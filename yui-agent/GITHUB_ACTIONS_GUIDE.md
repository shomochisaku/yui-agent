# GitHub Actions & Claude 統合ガイド

## 概要

このガイドでは、Claude GitHub App を使用した自律的な開発フローについて説明します。

## セットアップ完了状況 ✅

### 1. Claude GitHub App
- **インストール済み**: `/install-github-app` コマンドで設定
- **認証方式**: Claude MAX サブスクリプション（APIキー不要）
- **権限**: リポジトリへの読み書き権限

### 2. GitHub Secrets
設定済みのシークレット：
- `OPENAI_API_KEY`: ユイエージェントのOpenAI API
- `BRAVE_API_KEY`: Web検索機能用

### 3. ワークフロー
- **Claude Code Review**: PR #2 でマージ済み
- **自動PR作成**: Issue からの実装対応

## 使い方

### Issue での自律開発

```markdown
@claude [タスクの説明]

例:
@claude このバグを修正してPRを作成してください
@claude READMEに使用例を追加してください
@claude テストコードを作成してください
```

### Pull Request でのレビュー

```markdown
@claude このコードをレビューしてください
@claude パフォーマンスを改善してください
@claude セキュリティの観点から確認してください
```

## 役割分担

### ローカル Claude（Claude Code）
**用途**: 戦略的な相談、設計、学習
- アーキテクチャ設計
- トラブルシューティング
- 複雑な問題の分析
- プロジェクト全体の方針決定

### GitHub Claude（GitHub Actions）
**用途**: 具体的な実装、自動化
- コード生成・修正
- テスト実行
- ドキュメント更新
- 定型的なタスク処理

## ワークフロー例

### 1. 新機能開発
```mermaid
graph LR
    A[Issue作成] --> B[@claude で実装依頼]
    B --> C[自動PR作成]
    C --> D[レビュー・マージ]
```

### 2. バグ修正
```mermaid
graph LR
    A[バグ報告Issue] --> B[@claude で修正依頼]
    B --> C[修正PR自動作成]
    C --> D[テスト確認]
    D --> E[マージ]
```

## トラブルシューティング

### Actions が動作しない場合
1. GitHub App の権限確認
2. Secrets の設定確認
3. ワークフローファイルの存在確認

### API エラーが発生する場合
1. GitHub Secrets に正しいAPIキーが設定されているか確認
2. APIの利用制限に達していないか確認
3. 環境変数の参照が正しいか確認

## ベストプラクティス

### 1. 明確な指示
- 具体的なタスクを記述
- 期待する結果を明記
- 必要な制約条件を含める

### 2. 段階的な実装
- 大きなタスクは分割して依頼
- 各PRは単一の目的に集中
- テストを含めることを明記

### 3. レビューの活用
- 自動生成されたコードは必ずレビュー
- セキュリティとパフォーマンスを確認
- 必要に応じて修正を依頼

## 注意事項

- **Secrets は絶対にコードに含めない**
- **自動生成されたコードは必ず確認**
- **プロダクション環境への直接デプロイは避ける**

## 今後の拡張予定

1. **自動テスト強化**
   - より包括的なテストカバレッジ
   - E2Eテストの自動化

2. **デプロイメント統合**
   - ステージング環境への自動デプロイ
   - リリースノートの自動生成

3. **品質管理**
   - コード品質チェック
   - パフォーマンス分析
   - セキュリティスキャン

---

最終更新: 2025-07-10